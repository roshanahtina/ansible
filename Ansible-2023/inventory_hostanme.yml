---
- hosts: ansimaster
  become: yes
  gather_facts: True

  tasks:
  - name: What is my ansible_hostname
    debug: 
      var: "{{ groups['all'] }}"
    tags: allhost

  - name: Print All Hosts One By One...
    shell: ping -c 2 {{ item }}
    with_items: "{{ groups['web'] }}"
    register: shellout
    tags: allgroup

  - debug:
      msg: "{{ shellout }}"
    tags: allgroup

  - name: Print All Hosts One By One...
    shell: echo "My Name is {{ item }}"
    with_items: "{{ groups['web'] }}"
    register: shellout
    tags: allhosts

  - debug:
      msg: "{{ shellout }}"
    tags: allhosts
